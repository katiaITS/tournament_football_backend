<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Match.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">tournament-football-backend</a> &gt; <a href="index.source.html" class="el_package">com.tournament_football_backend.model</a> &gt; <span class="el_source">Match.java</span></div><h1>Match.java</h1><pre class="source lang-java linenums">package com.tournament_football_backend.model;

import jakarta.persistence.*;
import jakarta.validation.constraints.Min;
import jakarta.validation.constraints.NotNull;
import java.time.LocalDateTime;

/**
 * Represents a football match between two teams in a tournament.
 * Contains details about the teams, tournament, match date, goals scored, and match status.
 */
@Entity
@Table(name = &quot;matches&quot;)
public class Match {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotNull
    @ManyToOne
    @JoinColumn(name = &quot;home_team_id&quot;, nullable = false)
    private Team homeTeam;

    @NotNull
    @ManyToOne
    @JoinColumn(name = &quot;away_team_id&quot;, nullable = false)
    private Team awayTeam;

    @NotNull
    @ManyToOne
    @JoinColumn(name = &quot;tournament_id&quot;, nullable = false)
    private Tournament tournament;

    @Column(name = &quot;match_date&quot;)
    private LocalDateTime matchDate;

<span class="fc" id="L38">    @Min(0)</span>
    @Column(name = &quot;home_goals&quot;)
<span class="fc" id="L40">    private Integer homeGoals = 0;</span>

<span class="fc" id="L42">    @Min(0)</span>
    @Column(name = &quot;away_goals&quot;)
<span class="fc" id="L44">    private Integer awayGoals = 0;</span>

<span class="fc" id="L46">    @Enumerated(EnumType.STRING)</span>
    @Column(nullable = false)
    private MatchStatus status = MatchStatus.SCHEDULED;

    @Column(name = &quot;created_at&quot;)
    private LocalDateTime createdAt;

<span class="fc" id="L53">    public Match() {</span>
<span class="fc" id="L54">        this.createdAt = LocalDateTime.now();</span>
<span class="fc" id="L55">    }</span>

    public String getResult() {
<span class="fc bfc" id="L58" title="All 2 branches covered.">        if (status == MatchStatus.COMPLETED) {</span>
<span class="fc" id="L59">            return homeGoals + &quot; - &quot; + awayGoals;</span>
        }
<span class="fc" id="L61">        return &quot;Not played&quot;;</span>
    }

    public Team getWinner() {
<span class="nc bnc" id="L65" title="All 2 branches missed.">        if (status == MatchStatus.COMPLETED) {</span>
<span class="nc bnc" id="L66" title="All 2 branches missed.">            if (homeGoals &gt; awayGoals) return homeTeam;</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">            if (awayGoals &gt; homeGoals) return awayTeam;</span>
        }
<span class="nc" id="L69">        return null;</span>
    }

    // Getters and Setters
<span class="fc" id="L73">    public Long getId() { return id; }</span>
<span class="fc" id="L74">    public void setId(Long id) { this.id = id; }</span>

<span class="fc" id="L76">    public Team getHomeTeam() { return homeTeam; }</span>
<span class="fc" id="L77">    public void setHomeTeam(Team homeTeam) { this.homeTeam = homeTeam; }</span>

<span class="fc" id="L79">    public Team getAwayTeam() { return awayTeam; }</span>
<span class="fc" id="L80">    public void setAwayTeam(Team awayTeam) { this.awayTeam = awayTeam; }</span>

<span class="fc" id="L82">    public Tournament getTournament() { return tournament; }</span>
<span class="fc" id="L83">    public void setTournament(Tournament tournament) { this.tournament = tournament; }</span>

<span class="fc" id="L85">    public LocalDateTime getMatchDate() { return matchDate; }</span>
<span class="fc" id="L86">    public void setMatchDate(LocalDateTime matchDate) { this.matchDate = matchDate; }</span>

<span class="fc" id="L88">    public Integer getHomeGoals() { return homeGoals; }</span>
<span class="fc" id="L89">    public void setHomeGoals(Integer homeGoals) { this.homeGoals = homeGoals; }</span>

<span class="fc" id="L91">    public Integer getAwayGoals() { return awayGoals; }</span>
<span class="fc" id="L92">    public void setAwayGoals(Integer awayGoals) { this.awayGoals = awayGoals; }</span>

<span class="fc" id="L94">    public MatchStatus getStatus() { return status; }</span>
<span class="fc" id="L95">    public void setStatus(MatchStatus status) { this.status = status; }</span>

<span class="fc" id="L97">    public LocalDateTime getCreatedAt() { return createdAt; }</span>
<span class="fc" id="L98">    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>